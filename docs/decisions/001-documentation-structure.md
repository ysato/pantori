# ADR-001: ドキュメント構成方針

## ステータス

採用済み

## 背景

パントリー在庫管理システムを段階的に機能追加していくアプローチを採用するにあたり、以下の課題が存在した：

- MVP から段階的に機能を追加していく開発手法に適したドキュメント構成が必要
- 要件定義、設計、実装タスクの関係性を明確にしたい  
- 将来の機能追加時に過去の設計判断を振り返れるようにしたい
- 開発者が迷わない程度の具体的な実装指示が必要

## 決定事項

以下のディレクトリ構成を採用する（ファイル名は例）：

```
docs/
├── spec/                    # 要件定義（時系列管理）
│   ├── pantry-mvp-requirements.md      # MVP要件
│   ├── pantry-v1.1-requirements.md     # 次期バージョン要件（例）
│   └── pantry-v1.2-requirements.md     # さらに次の要件（例）
├── design/                  # 設計文書（階層管理）
│   ├── system-overview.md              # システム全体設計（例）
│   ├── data-model.md                   # データモデル設計（例）
│   └── ~~api-design.md~~                   # ~~API設計~~（MVPでは不要）
├── tasks/                   # 実装タスク（時系列管理）
│   ├── task-mvp-001-item-registration.md   # 実装タスク例
│   ├── task-mvp-002-stock-tracking.md     # 実装タスク例
│   └── task-mvp-003-low-stock-alert.md    # 実装タスク例
└── decisions/               # 設計決定記録（ADR形式）
    ├── 001-documentation-structure.md
    └── 002-database-schema.md              # 例
```

### 運用フロー

1. **新機能検討時**:
   - `spec/{システム名}-{バージョン}-requirements.md` を作成
   - 既存の `design/*.md` を必要に応じて更新
   - `tasks/task-{バージョン}-*.md` を作成

2. **設計変更時**:
   - `decisions/xxx-{変更理由}.md` を作成
   - `design/*.md` を更新

### 各ディレクトリの責務

- **spec/**: 各バージョンで何を実現するかを EARS記法で定義
- **design/**: バージョンに依存しないシステム全体の設計方針
- **tasks/**: 開発者が迷わない具体的な実装指示（1-3日で完了する作業単位）
- **decisions/**: 設計判断の根拠を ADR形式で記録

## 結果

- **トレーサビリティ**: 要件→設計→タスクの流れが明確になる
- **段階的成長**: MVPから段階的に要件を追加可能
- **決定の透明性**: なぜその設計にしたかが記録される
- **作業の明確化**: 開発者が何をすべきかが具体的になる

## 備考

- ディレクトリは必要になった時点で作成する
- CLAUDE.md にも開発時の参照用として概要を記載する