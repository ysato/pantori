# CLAUDE.md

このファイルは、Claude Code (claude.ai/code) がこのリポジトリで作業する際のガイダンスを提供します。

**重要**: このプロジェクトでは、全ての会話とコミュニケーションを日本語で行ってください。コードコメント、エラーメッセージ、説明などもできる限り日本語で対応してください。

# 設計・実装指針

## 基本的な考え方
- **YAGNI**: 実際に必要になるまで複雑化は慎重に検討
- **段階的詳細化**: 実装詳細は適切なタイミングで段階的に詳細化し、早期固定を回避

## 段階別詳細化指針

### 要件定義段階（EARS要件、ユーザーストーリー）
- **focus**: 何を実現するか（what）に集中
- **避けるべき**: 具体的な実装手法、技術選択、詳細なAPI設計
- **記述レベル例**: 
  - ✅ 「パントリー作成機能を提供する」
  - ❌ 「Register\PostActionコントローラーで実装する」
  - ❌ 「正規表現 /^[a-zA-Z0-9]+/ でバリデーションする」

### 設計段階（アーキテクチャ文書）
- **focus**: システム全体の方針と制約（how概要）
- **責務分離**: 論理的な責務（「入力検証」「ドメインロジック」「データ整合性」）で表現
- **記述レベル例**:
  - ✅ 「MVCパターンで実装」「セッション認証を使用」
  - ✅ 「シングルアクションコントローラー採用」
  - ❌ 「Register\GetActionクラス名で実装」

### タスク段階（task-xxx.md）
- **focus**: 実装者が迷わない程度の具体例（how詳細）
- **実装イメージ**: 調整可能を前提とした実装例の提示
- **記述レベル例**:
  - ✅ 「Register\PostActionで実装」
  - ✅ 「slug正規表現チェック（/^[a-zA-Z0-9]+/）」
  - ✅ 「pantriesテーブル作成（id, slug）」


